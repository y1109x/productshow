(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-14a38a50"],{"0592":function(e,t,r){"use strict";var a=r("341a").charAt;e.exports=function(e,t,r){return t+(r?a(e,t).length:1)}},"05c7":function(e,t,r){var a=r("fb19"),i=r("9119"),o=r("b882"),n=o("species");e.exports=function(e,t){var r;return i(e)&&(r=e.constructor,"function"!=typeof r||r!==Array&&!i(r.prototype)?a(r)&&(r=r[n],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},"0c24":function(e,t,r){"use strict";var a=r("ad5f");a({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},"0dc0":function(e,t,r){"use strict";var a=r("e740"),i=r("90c3"),o=r("c7d3");e.exports=function(e,t,r){var n=a(t);n in e?i.f(e,n,o(0,r)):e[n]=r}},"0f48":function(e,t,r){var a=r("9632"),i=r("6c63"),o=r("6322"),n=r("5dba"),c=r("05c7"),s=[].push,l=function(e){var t=1==e,r=2==e,l=3==e,u=4==e,d=6==e,p=7==e,g=5==e||d;return function(m,f,v,h){for(var _,b,k=o(m),x=i(k),y=a(f,v,3),A=n(x.length),F=0,S=h||c,w=t?S(m,A):r||p?S(m,0):void 0;A>F;F++)if((g||F in x)&&(_=x[F],b=y(_,F,k),e))if(t)w[F]=b;else if(b)switch(e){case 3:return!0;case 5:return _;case 6:return F;case 2:s.call(w,_)}else switch(e){case 4:return!1;case 7:s.call(w,_)}return d?-1:l||u?u:w}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterOut:l(7)}},"1eee":function(e,t,r){"use strict";var a=r("4344"),i=r("7cb9"),o=r("5dba"),n=r("a8fc"),c=r("1619"),s=r("0592"),l=r("5323"),u=r("9111"),d=Math.max,p=Math.min,g=function(e){return void 0===e?e:String(e)};a("replace",2,(function(e,t,r,a){var m=a.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,f=a.REPLACE_KEEPS_$0,v=m?"$":"$0";return[function(r,a){var i=c(this),o=void 0==r?void 0:r[e];return void 0!==o?o.call(r,i,a):t.call(String(i),r,a)},function(e,a){if(!m&&f||"string"===typeof a&&-1===a.indexOf(v)){var c=r(t,e,this,a);if(c.done)return c.value}var h=i(e),_=String(this),b="function"===typeof a;b||(a=String(a));var k=h.global;if(k){var x=h.unicode;h.lastIndex=0}var y=[];while(1){var A=u(h,_);if(null===A)break;if(y.push(A),!k)break;var F=String(A[0]);""===F&&(h.lastIndex=s(_,o(h.lastIndex),x))}for(var S="",w=0,C=0;C<y.length;C++){A=y[C];for(var U=String(A[0]),E=d(p(n(A.index),_.length),0),I=[],R=1;R<A.length;R++)I.push(g(A[R]));var P=A.groups;if(b){var O=[U].concat(I,E,_);void 0!==P&&O.push(P);var j=String(a.apply(void 0,O))}else j=l(U,_,E,I,P,a);E>=w&&(S+=_.slice(w,E)+j,w=E+U.length)}return S+_.slice(w)}]}))},2605:function(e,t,r){"use strict";var a=r("ad5f"),i=r("d03c").trim,o=r("a0e1");a({target:"String",proto:!0,forced:o("trim")},{trim:function(){return i(this)}})},"2bfa":function(e,t,r){"use strict";var a=r("ad5f"),i=r("621d");a({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},4344:function(e,t,r){"use strict";r("2bfa");var a=r("6e06"),i=r("5c6d"),o=r("b882"),n=r("a564"),c=o("species"),s=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),l=function(){return"$0"==="a".replace(/./,"$0")}(),u=o("replace"),d=function(){return!!/./[u]&&""===/./[u]("a","$0")}(),p=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));e.exports=function(e,t,r,u){var g=o(e),m=!i((function(){var t={};return t[g]=function(){return 7},7!=""[e](t)})),f=m&&!i((function(){var t=!1,r=/a/;return"split"===e&&(r={},r.constructor={},r.constructor[c]=function(){return r},r.flags="",r[g]=/./[g]),r.exec=function(){return t=!0,null},r[g](""),!t}));if(!m||!f||"replace"===e&&(!s||!l||d)||"split"===e&&!p){var v=/./[g],h=r(g,""[e],(function(e,t,r,a,i){return t.exec===RegExp.prototype.exec?m&&!i?{done:!0,value:v.call(t,r,a)}:{done:!0,value:e.call(r,t,a)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),_=h[0],b=h[1];a(String.prototype,e,_),a(RegExp.prototype,g,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}u&&n(RegExp.prototype[g],"sham",!0)}},"4d69":function(e,t,r){"use strict";var a=r("ad5f"),i=r("4eb2").includes,o=r("6c47");a({target:"Array",proto:!0},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},5323:function(e,t,r){var a=r("6322"),i=Math.floor,o="".replace,n=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,s,l,u){var d=r+e.length,p=s.length,g=c;return void 0!==l&&(l=a(l),g=n),o.call(u,g,(function(a,o){var n;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(d);case"<":n=l[o.slice(1,-1)];break;default:var c=+o;if(0===c)return a;if(c>p){var u=i(c/10);return 0===u?a:u<=p?void 0===s[u-1]?o.charAt(1):s[u-1]+o.charAt(1):a}n=s[c-1]}return void 0===n?"":n}))}},5981:function(e,t,r){"use strict";r("9b03")},"602f":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA1CAYAAAAOJMhOAAAACXBIWXMAAAsSAAALEgHS3X78AAADrElEQVRogdWaTXLaMBiGH5jsQ04QeoLQGe/r1Aco3XXqBeQEpScoPUHJCeIsvG8P4KmzrhdwgsINYKZd04XkVBj5R7KDzTuTGSJkWw/6pO9H7u33ewA8PxkAM2AM3NB9bYDvwDwKnW3a2Nvv93h+MgJi4LKlwdXRDnCj0FkC9N5+/DUA1pwnTKodMIpCZ90HFpw3DIjxLwAuEGtG1QqYA1u6rQWHa/0dCJPbZzq+ikJnfapR2crzkyHwO9N82892PAcYyB/nEZCNPD9x5bbfui5sL/T8xEWstTdK2wYIotCZ1x2YraxmyPOTBfATBUbqGvji+cmyrRkzBvL8ZAx8Kul2g/DiJ5fNDC0q9nsjzfKkMgKSIdK1wSVZH/fiMp0h03UxMuxfWZ6fBLr2RrbtU0vCTHTfmQKtDfvHhv1LVQQDhkDSOz8ZXBKY3L9MZTBgZ3IzRLhepq9NhlFVYMACSCZSLsVQ901GC1VhwHJTkFBD4DPCBNO/R+A2Cp2ZzX11KoC51/U/Sh+i0Ok1NZi6KoC5i0In8Pwkm/ocpw9dURlM3nWdBLKFgQ4C1YEBi3xIRttqSLOMQqeRyLouDBgAycA0QFOElIndvOpDc+4fUBMGKpqcUojMq6heAw+en6w9P5lWfbhy/4AGYKACkGFV1RisSRgoASqB2SHqyzpVAmsaBgqACmBWwFUUOoModIbAHRZgLwEDOZFCCYyrVvuVAU4RVaCijHaDSEGyxZVURjC6SEFXOX2NIUzmIVPKwXQynpmqoU+MJQxAFDpBBVPMqpaZqdL5IWsYVXKAQcmM7YBZEYysYU8RznwRhU5c9FydyamygskZ2BiRR40QJxsxosqae2/PT2bAt0zzEzCOQmfr+UnM//W4i0JnUATUGIyNSpK6FeLHATF7A8SPs84LfboMAyJiiREzdVD41G0KXYdJdQMspYt5ls7krtqAkcX9BRVrB4oODo11B15twcRUg/mb+f8SiNOZ6kqCF6OP5O80bR8Qy0JVCuW2DiRPKLQwOf7pD2KH00G1D6TRDnhf5GzlsnA5huqEyW05rO25VVJ6BUotTW+tz1ibklKJtbl2C7jphhCFzvIIyPOT4bkc7adKt2zQm9y8K0f0NroAfiBfK5GaABPPT049lkdE5F3LD/YRoX0XNEEEmrXUl/anc2BtqLap9+E5GbvF7HSuaW3QvzJQNesFlIxVZoLpOzsvdnqdp4JMdA48yM8rYJnTD5CvaHZd0s8MytJvgH/ixLEVnC2XGAAAAABJRU5ErkJggg=="},"621d":function(e,t,r){"use strict";var a=r("7142"),i=r("b7b9"),o=r("d26e"),n=RegExp.prototype.exec,c=o("native-string-replace",String.prototype.replace),s=n,l=function(){var e=/a/,t=/b*/g;return n.call(e,"a"),n.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),u=i.UNSUPPORTED_Y||i.BROKEN_CARET,d=void 0!==/()??/.exec("")[1],p=l||d||u;p&&(s=function(e){var t,r,i,o,s=this,p=u&&s.sticky,g=a.call(s),m=s.source,f=0,v=e;return p&&(g=g.replace("y",""),-1===g.indexOf("g")&&(g+="g"),v=String(e).slice(s.lastIndex),s.lastIndex>0&&(!s.multiline||s.multiline&&"\n"!==e[s.lastIndex-1])&&(m="(?: "+m+")",v=" "+v,f++),r=new RegExp("^(?:"+m+")",g)),d&&(r=new RegExp("^"+m+"$(?!\\s)",g)),l&&(t=s.lastIndex),i=n.call(p?r:s,v),p?i?(i.input=i.input.slice(f),i[0]=i[0].slice(f),i.index=s.lastIndex,s.lastIndex+=i[0].length):s.lastIndex=0:l&&i&&(s.lastIndex=s.global?i.index+i[0].length:t),d&&i&&i.length>1&&c.call(i[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i}),e.exports=s},"6bf1":function(e,t,r){"use strict";var a=r("ad5f"),i=r("0f48").map,o=r("dd38"),n=o("map");a({target:"Array",proto:!0,forced:!n},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},7142:function(e,t,r){"use strict";var a=r("7cb9");e.exports=function(){var e=a(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},9111:function(e,t,r){var a=r("6638"),i=r("621d");e.exports=function(e,t){var r=e.exec;if("function"===typeof r){var o=r.call(e,t);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==a(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},9119:function(e,t,r){var a=r("6638");e.exports=Array.isArray||function(e){return"Array"==a(e)}},"9b03":function(e,t,r){},"9d58":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"add-product-wrapper"},[a("div",{staticClass:"header"},[a("div",{staticClass:"title"},[e._v("新增产品")]),a("div",[a("button",{staticClass:"square-btn ",on:{click:e.goProduct}},[e._v("取消")]),a("button",{staticClass:"square-btn primary split-area",on:{click:e.addProduct}},[e._v(" 确定 ")])])]),a("div",{staticClass:"split-line"}),a("div",{staticClass:"main-content"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"200px"}},[a("div",{staticClass:"base-info"},[a("div",{staticClass:"title"},[e._v("基本信息")]),a("div",{staticClass:"info-content"},[a("div",{staticClass:"info-left"},[a("el-form-item",{attrs:{label:"产品名称：",prop:"product_name"}},[a("el-input",{model:{value:e.ruleForm.product_name,callback:function(t){e.$set(e.ruleForm,"product_name",t)},expression:"ruleForm.product_name"}})],1),a("el-form-item",{attrs:{label:"产品英文名称",prop:"product_english_name"}},[a("el-input",{model:{value:e.ruleForm.product_english_name,callback:function(t){e.$set(e.ruleForm,"product_english_name",t)},expression:"ruleForm.product_english_name"}})],1),a("el-form-item",{attrs:{label:"产品关键字：",prop:"product_keywords"}},[a("el-input",{model:{value:e.ruleForm.product_keywords,callback:function(t){e.$set(e.ruleForm,"product_keywords",t)},expression:"ruleForm.product_keywords"}})],1),a("el-form-item",{attrs:{label:"产品原价：",prop:"original_price"}},[a("el-input",{model:{value:e.ruleForm.original_price,callback:function(t){e.$set(e.ruleForm,"original_price",t)},expression:"ruleForm.original_price"}},[a("template",{slot:"append"},[e._v("元")])],2)],1),a("el-form-item",{attrs:{label:"产品现价：",prop:"actual_price"}},[a("el-input",{model:{value:e.ruleForm.actual_price,callback:function(t){e.$set(e.ruleForm,"actual_price",t)},expression:"ruleForm.actual_price"}},[a("template",{slot:"append"},[e._v("元")])],2)],1),a("el-form-item",{attrs:{label:"产品简介",prop:"product_introduction"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:3},resize:"none"},model:{value:e.ruleForm.product_introduction,callback:function(t){e.$set(e.ruleForm,"product_introduction",t)},expression:"ruleForm.product_introduction"}})],1)],1),a("div",{staticClass:"info-right"},[a("el-form-item",{attrs:{label:"上传产品LOGO：",prop:"product_logo"}},[a("el-upload",{staticClass:"package-uploader",attrs:{action:e.baseUrl+"/image/upload",multiple:!1,name:"file","on-success":e.uploadLogoSuccess,"show-file-list":!1,accept:".jpg, .jpeg, .png","before-upload":e.beforeImgUpload,headers:{jwt:e.token}}},[e.ruleForm.product_logo?a("div",{staticClass:"upload-img-single"},[a("img",{staticStyle:{width:"100%",height:"100%","border-radius":"4px"},attrs:{src:e.ruleForm.product_logo}}),a("div",{staticClass:"hidden-area"},[e._v(" 点击替换图片 ")])]):a("div",{staticClass:"upload-img-single"},[a("img",{staticStyle:{"margin-top":"32px"},attrs:{src:r("602f")}}),a("div",[e._v("只允许上传一个图片")])])])],1)],1)])]),a("div",{staticClass:"other-info"},[a("div",{staticClass:"title"},[e._v("其他信息")]),a("div",{staticClass:"info-content"},[a("div",{staticClass:"info-left"},[a("el-form-item",{attrs:{label:"生成私有key：",prop:"private_key"}},[e.ruleForm.private_key?a("div",{staticStyle:{height:"47px"}},[e._v(" "+e._s(e.ruleForm.private_key)+" ")]):a("div",[a("el-input",{attrs:{disabled:!0,placeholder:"点击右边生成私有key"},model:{value:e.ruleForm.private_key,callback:function(t){e.$set(e.ruleForm,"private_key",t)},expression:"ruleForm.private_key"}}),a("div",{staticClass:"square-btn primary",staticStyle:{"margin-left":"15px"},on:{click:e.requestKey}},[e._v(" 生成Key ")])],1)]),e._l(e.ruleForm.product_packages,(function(t,r){return a("el-form-item",{key:t.index,attrs:{label:"安装包环境"+(r+1)+"：",prop:"product_packages."+r+".envir",rules:{required:!0,message:"安装包环境不能为空",trigger:"blur",validator:e.checkSpace}}},[a("el-input",{model:{value:t.envir,callback:function(r){e.$set(t,"envir",r)},expression:"product_package.envir"}}),a("el-upload",{staticClass:"package-uploader",attrs:{action:e.baseUrl+"/product/upload",multiple:!1,name:"file","on-success":function(t){return e.uploadPackageSuccess(t,r)},"on-progress":function(t,a){return e.uploadPackageProgress(t,a,r)},"on-error":function(t){return e.uploadPackageFail(t,r)},data:{systemOs:t.envir},headers:{jwt:e.token},"show-file-list":!1,disabled:t.isUpload&&!t.fail}},[t.package_name||t.isUpload?e._e():a("div",{staticClass:"square-btn primary",staticStyle:{"margin-left":"15px"}},[e._v(" 上传安装包 ")]),t.package_name&&!t.isUpload?a("div",{staticStyle:{"margin-left":"15px"}},[e._v(" "+e._s(t.package_name)+" ")]):e._e(),t.isUpload?a("el-progress",{attrs:{color:t.fail?"rgb(245, 108, 108)":"rgb(64, 158, 255)",percentage:t.percent}}):e._e()],1),0==r||t.isUpload?e._e():a("div",{staticClass:"square-btn danger",staticStyle:{"margin-left":"10px"},on:{click:function(t){return e.deletePackage(r)}}},[e._v(" 删除安装包 ")])],1)})),a("div",{staticClass:"square-btn primary",staticStyle:{"margin-left":"200px"},on:{click:e.addPackage}},[e._v(" 新增安装包 ")])],2),a("div",{staticClass:"info-right"},[a("el-form-item",{attrs:{label:"上传产品图：",prop:"product_images"}},[e.ruleForm.product_images.length?a("div",{staticClass:"product_images"},[e._l(e.ruleForm.product_images,(function(t,r){return a("div",{key:r,staticClass:"product_image"},[a("el-upload",{staticClass:"product_image",attrs:{action:e.baseUrl+"/image/upload",name:"file","on-success":e.changeImg,"show-file-list":!1,multiple:!1,accept:".jpg, .jpeg, .png","before-upload":e.beforeImgUpload,headers:{jwt:e.token}}},[a("img",{staticStyle:{width:"100%",height:"100%","border-radius":"4px"},attrs:{src:t.imageSrc}}),a("div",{staticClass:"hidden-area",on:{click:function(t){return e.changeIndex(r)}}},[e._v(" 点击替换图片 ")])]),a("i",{staticClass:"delete-icon el-icon-circle-close",on:{click:function(t){return e.deleteImg(r)}}})],1)})),a("el-upload",{staticClass:"product_image",attrs:{action:e.baseUrl+"/image/upload",name:"file","on-success":e.uploadProductImg,"show-file-list":!1,multiple:!0,accept:".jpg, .jpeg, .png","before-upload":e.beforeImgUpload,headers:{jwt:e.token}}},[a("div",[a("img",{staticStyle:{"margin-top":"15px"},attrs:{src:r("602f")}}),a("div",{staticClass:"upload-text"},[e._v("允许一次上传多张图片")])])])],2):a("el-upload",{staticClass:"package-uploader",attrs:{action:e.baseUrl+"/image/upload",name:"file","on-success":e.uploadProductImg,"show-file-list":!1,multiple:!0,accept:".jpg, .jpeg, .png","before-upload":e.beforeImgUpload,headers:{jwt:e.token}}},[a("div",{staticClass:"upload-img-single"},[a("img",{staticStyle:{"margin-top":"32px"},attrs:{src:r("602f")}}),a("div",[e._v("允许一次上传多张图片")])])])],1)],1)])])])],1)])},i=[],o=(r("2605"),r("c804"),r("2bfa"),r("1eee"),r("6bf1"),r("c4c8")),n=r("a1bc"),c=r("ed08"),s={data:function(){return{current_product_img_index:"",ruleForm:{product_name:"",product_english_name:"",product_keywords:"",original_price:"",actual_price:"",product_introduction:"",product_logo:"",private_key:"",imageId:"",logo:"",product_packages:[{envir:"",package_name:"",package_path:"",id:"",status:1,downloadTimes:0,url:"",isUpload:!1,percent:0,fail:!1}],product_images:[]},baseUrl:"",rules:{product_name:[{required:!0,message:"请输入产品名称",validator:this.checkSpace,trigger:"blur"}],product_english_name:[{required:!0,message:"请输入产品英文名称",validator:this.checkSpace,trigger:"blur"},{message:"产品英文名称只能输入英文",pattern:/^[a-zA-Z\s]+$/,trigger:"blur"}],product_keywords:[{required:!0,message:"请输入产品关键字",validator:this.checkSpace,trigger:"blur"}],original_price:[{required:!0,message:"请输入产品原价",validator:this.checkSpace,trigger:"blur"},{message:"产品价格只能为数字",pattern:/(^[1-9]\d*(\.\d{1,2})?$)|(^0(\.\d{1,2})?$)/,trigger:"blur"}],actual_price:[{required:!0,message:"请输入产品现格",validator:this.checkSpace,trigger:"blur"},{message:"产品价格只能为数字",pattern:/(^[1-9]\d*(\.\d{1,2})?$)|(^0(\.\d{1,2})?$)/,trigger:"blur"}],product_introduction:[{required:!0,message:"请输入产品简介",validator:this.checkSpace,trigger:"blur"}],product_logo:[{required:!0,message:"请上传产品logo",trigger:"change"}],private_key:[{required:!0,message:"请生成私有Key",trigger:"blur"}],product_images:[{required:!0,message:"请上传产品图",trigger:"blur"}]}}},created:function(){},mounted:function(){this.baseUrl=n["baseUrl"]},computed:{token:function(){return sessionStorage.getItem("token")}},methods:{checkSpace:function(e,t,r){t.trim()?r():r(new Error("不能为空"))},goProduct:function(){this.$router.push("/productManage")},requestKey:function(){var e=this;Object(o["b"])().then((function(t){e.ruleForm.private_key=t.data.data}))},deleteImg:function(e){this.ruleForm.product_images.splice(e,1)},addPackage:function(){this.ruleForm.product_packages.push({envir:"",package_name:"",package_path:"",id:"",status:1,downloadTimes:0,url:"",isUpload:!1,percent:0,fail:!1})},deletePackage:function(e){this.ruleForm.product_packages.splice(e,1)},beforeImgUpload:function(e){var t=Object(c["b"])(e);return t||this.$message({type:"warning",message:"必须上传图片格式文件！"}),t},uploadPackageSuccess:function(e,t){this.ruleForm.product_packages[t].fail=!1,this.ruleForm.product_packages[t].package_name=e.data.productName,this.ruleForm.product_packages[t].id=e.data.id,this.ruleForm.product_packages[t].url=e.data.url,this.ruleForm.product_packages[t].package_path=this.baseUrl+"/file/"+e.data.url.replace(/.*\//g,""),this.ruleForm.product_packages[t].isUpload=!1},uploadPackageProgress:function(e,t,r){this.ruleForm.product_packages[r].fail=!1,this.ruleForm.product_packages[r].isUpload=!0,this.ruleForm.product_packages[r].percent=Math.floor(e.percent)},uploadPackageFail:function(e,t){this.$message({type:"warning",message:"上传安装包失败，请重新上传！"}),this.ruleForm.product_packages[t].fail=!0},uploadLogoSuccess:function(e){this.ruleForm.logo=e.data[0].imageUrl,this.ruleForm.product_logo=this.baseUrl+"/file/"+e.data[0].imageUrl.replace(/.*\//g,""),this.ruleForm.imageId=e.data[0].id,this.$refs.ruleForm.validateField("product_logo")},uploadProductImg:function(e){this.ruleForm.product_images.push({imageId:e.data[0].id,imageSrc:this.baseUrl+"/file/"+e.data[0].imageUrl.replace(/.*\//g,""),imageUrl:e.data[0].imageUrl}),this.$refs.ruleForm.validateField("product_images")},changeImg:function(e){this.$set(this.ruleForm.product_images,this.current_product_img_index,{imageId:e.data[0].id,imageSrc:this.baseUrl+"/file/"+e.data[0].imageUrl.replace(/.*\//g,"")})},changeIndex:function(e){this.current_product_img_index=e},addProduct:function(){for(var e=this,t=0;t<this.ruleForm.product_packages.length;t++)if(!this.ruleForm.product_packages[t].package_name)return void this.$message({type:"warning",message:"安装包不能为空"});this.$refs.ruleForm.validate((function(t,r){if(console.log(t,r),t){var a={};a.images=e.ruleForm.product_images.map((function(e){return{imageId:e.imageId,imageUrl:e.imageUrl}}));var i={},n=e.ruleForm;i.chName=n.product_name,i.enName=n.product_english_name,i.imageId=n.imageId,i.introduction=n.product_introduction,i.keyWord=n.product_keywords,i.logo=n.logo,i.originalPrice=n.original_price,i.actualPrice=n.actual_price,i.privateKey=n.private_key,i.status=0,i.totalDownloads=0,i.activateTimes=0,a.productSeries=i,a.products=e.ruleForm.product_packages.map((function(e){return{downloadTimes:0,status:1,id:e.id,systemOs:e.envir,productName:e.package_name,url:e.url}})),Object(o["a"])(a).then((function(t){e.$message({type:"success",message:"新增产品成功"}),e.ruleForm={product_name:"",product_english_name:"",product_keywords:"",original_price:"",actual_price:"",product_introduction:"",product_logo:"",private_key:"",imageId:"",logo:"",product_packages:[{envir:"",package_name:"",package_path:"",id:"",status:1,downloadTimes:0,url:"",isUpload:!1,percent:0}],product_images:[]}}))}}))}}},l=s,u=(r("5981"),r("5d22")),d=Object(u["a"])(l,a,i,!1,null,"35e1e069",null);t["default"]=d.exports},a0e1:function(e,t,r){var a=r("5c6d"),i=r("e36c"),o="​᠎";e.exports=function(e){return a((function(){return!!i[e]()||o[e]()!=o||i[e].name!==e}))}},b7b9:function(e,t,r){"use strict";var a=r("5c6d");function i(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=a((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=a((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},c4c8:function(e,t,r){"use strict";r.d(t,"c",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"f",(function(){return n})),r.d(t,"a",(function(){return c})),r.d(t,"d",(function(){return s})),r.d(t,"e",(function(){return l}));var a=r("1c1e");function i(e){return Object(a["a"])({url:"/projectSeries/selectAll",data:e,method:"post"})}function o(){return Object(a["a"])({url:"/projectSeries/newKey",method:"get"})}function n(e){return Object(a["a"])({url:"/projectSeries/onShelf",method:"put",data:e})}function c(e){return Object(a["a"])({url:"/projectSeries/addProductSeries",method:"put",data:e})}function s(e){return Object(a["a"])({url:"/projectSeries/getDetail/"+e.id,method:"get"})}function l(){return Object(a["a"])({url:"/projectSeries/getProductShow",method:"get"})}},c804:function(e,t,r){"use strict";var a=r("ad5f"),i=r("cf78"),o=r("a8fc"),n=r("5dba"),c=r("6322"),s=r("05c7"),l=r("0dc0"),u=r("dd38"),d=u("splice"),p=Math.max,g=Math.min,m=9007199254740991,f="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!d},{splice:function(e,t){var r,a,u,d,v,h,_=c(this),b=n(_.length),k=i(e,b),x=arguments.length;if(0===x?r=a=0:1===x?(r=0,a=b-k):(r=x-2,a=g(p(o(t),0),b-k)),b+r-a>m)throw TypeError(f);for(u=s(_,a),d=0;d<a;d++)v=k+d,v in _&&l(u,d,_[v]);if(u.length=a,r<a){for(d=k;d<b-a;d++)v=d+a,h=d+r,v in _?_[h]=_[v]:delete _[h];for(d=b;d>b-a+r;d--)delete _[d-1]}else if(r>a)for(d=b-a;d>k;d--)v=d+a-1,h=d+r-1,v in _?_[h]=_[v]:delete _[h];for(d=0;d<r;d++)_[d+k]=arguments[d+2];return _.length=b-a+r,u}})},d03c:function(e,t,r){var a=r("1619"),i=r("e36c"),o="["+i+"]",n=RegExp("^"+o+o+"*"),c=RegExp(o+o+"*$"),s=function(e){return function(t){var r=String(a(t));return 1&e&&(r=r.replace(n,"")),2&e&&(r=r.replace(c,"")),r}};e.exports={start:s(1),end:s(2),trim:s(3)}},dd38:function(e,t,r){var a=r("5c6d"),i=r("b882"),o=r("0e59"),n=i("species");e.exports=function(e){return o>=51||!a((function(){var t=[],r=t.constructor={};return r[n]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},e36c:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},ed08:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return i}));r("2bfa"),r("1eee"),r("0c24"),r("4d69");function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;return e=new Date(+new Date(e)+288e5),e.toJSON().substr(0,t).replace("T"," ")}function i(e){var t=["image/apng","image/bmp","image/gif","image/jpeg","image/pjpeg","image/png","image/svg+xml","image/tiff","image/webp","image/x-icon"];return t.includes(e.type)}}}]);
//# sourceMappingURL=chunk-14a38a50.b419fd4f.js.map